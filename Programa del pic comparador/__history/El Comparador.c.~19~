#include <16f877a.h>
#fuses hs,nowdt
#use delay(clock=20M)

#define lcd_data_port getenv("sfr:portd")
#define lcd_enable_pin pin_d0
#define lcd_rs_pin pin_d1
#define lcd_rw_pin pin_d2
#define use_portb_kbd TRUE
#include <lcd.c>
#include <kbd.c>
void main()
{
   int k=0;
   char p;
   int data[];

   int i=0;
   int y;
   int x;
   port_b_pullups (true);
   lcd_init ();
   kbd_init ();
//!   printf(lcd_putc,"ingrese el numero \n");

   
   

   while(TRUE)
   {
   
      k=kbd_getc();
      printf(lcd_putc, "Tecla pulsada: %c", k);
      delay_ms(200);
      printf(LCD_PUTC, "\f");
//!      if (k!=0)
//!      {
//!         data[i]=k;
//!         lcd_gotoxy(1,1);
//!         printf(lcd_putc, "Tecla pulsada: %c", data[i]);
//!   
//!         delay_ms(200);
//!         i++;
//!
//!         printf(LCD_PUTC, "\f");
//!      
//!      }
      
//!      y= data[1] + data[2];
//!      lcd_gotoxy(1,1);
//!      printf(lcd_putc, "Total: %u", y);
//!      delay_ms(200);
      
   }
   
}
